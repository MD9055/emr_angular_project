"use strict";(self.webpackChunkemr_proj=self.webpackChunkemr_proj||[]).push([[857],{8857:(R,h,r)=>{r.r(h),r.d(h,{NoteModule:()=>y});var c=r(177),l=r(670),v=r(5799),g=r(467),f=r(6354),t=r(6276),b=r(1520),k=r(680);function j(o,u){if(1&o){const e=t.RV6();t.j41(0,"tr")(1,"td")(2,"div",32),t.nrm(3,"input",44),t.k0s()(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.j41(6,"td"),t.EFF(7),t.nI1(8,"date"),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td",45)(12,"a",46),t.bIt("click",function(){const n=t.eBV(e).$implicit,d=t.XpG();return t.Njj(d.viewNoteDetail(n._id))}),t.nrm(13,"i",47),t.k0s()()()}if(2&o){const e=u.$implicit;t.R7$(3),t.Y8G("value",e._id),t.R7$(2),t.JRh(e.patientName),t.R7$(2),t.JRh(t.i5U(8,4,e.date,"shortDate")),t.R7$(3),t.JRh(e.content)}}function F(o,u){if(1&o){const e=t.RV6();t.j41(0,"li",41)(1,"a",42),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.onPageChange(2))}),t.EFF(2,"2"),t.k0s()()}if(2&o){const e=t.XpG();t.AVh("active",2===e.currentPage)}}const N=[{path:"",component:v.C,children:[{path:"notelist",component:(()=>{class o{constructor(e,s,i){this.route=e,this.store=s,this.commonService=i,this.list=[],this.currentPage=1,this.totalPages=1,this.totalDocs=10}ngOnInit(){this.route.params.subscribe(e=>{this.id=e.id,this.fetchList()}),this.store.select("apiCallsStore").pipe((0,f.T)(e=>e.response.decryptedObje)).subscribe(e=>{this.user=e})}fetchList(){this.commonService.getRequest("notes/history",{doctor_id:this.user._id,user_id:this.id}).subscribe(s=>{"success"===s.data.status&&(this.list=s.data.data)})}handleDownload(e,s){var i=this;return(0,g.A)(function*(){try{i.commonService.download(e).subscribe(n=>{const d=new Blob([n],{type:"application/pdf"}),m=window.URL.createObjectURL(d);if("print"===s){const a=window.open(m);a?a.onload=()=>{a.focus(),a.print()}:console.error("Failed to open print window")}else if("download"===s){const a=document.createElement("a");a.href=m,a.setAttribute("download","report.pdf"),document.body.appendChild(a),a.click(),document.body.removeChild(a)}window.URL.revokeObjectURL(m)},n=>{console.error("Error downloading file:",n)})}catch(n){console.error("Error in handleDownload:",n)}})()}onSearch(){}resetList(){this.searchForm.reset()}onPageChange(e){this.currentPage=e}viewNoteDetail(e){}static{this.\u0275fac=function(s){return new(s||o)(t.rXU(l.nX),t.rXU(b.il),t.rXU(k.h))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-notelist"]],decls:72,vars:11,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"card","card-table","show-entire"],[1,"card-body"],[1,"page-table-header","mb-2"],[1,"row","align-items-center"],[1,"col"],[1,"doctor-table-blk"],[1,"doctor-search-blk"],[1,"top-nav-search","table-search-blk"],[1,"add-group"],["href","javascript:;",1,"btn","btn-primary","doctor-refresh","ms-2",3,"click"],["src","assets/img/icons/search-normal.svg","alt",""],[1,"btn","btn-primary","doctor-refresh","ms-2",3,"click"],["src","assets/img/icons/re-fresh.svg","alt",""],[1,"col-auto","text-end","float-end","ms-auto","download-grp"],["href","javascript:;",1,"me-2"],["src","assets/img/icons/pdf-icon-01.svg","alt",""],["src","assets/img/icons/pdf-icon-02.svg","alt",""],["src","assets/img/icons/pdf-icon-03.svg","alt",""],["href","javascript:;"],["src","assets/img/icons/pdf-icon-04.svg","alt",""],[1,"table-responsive"],[1,"table","border-0","custom-table","comman-table","datatable","mb-0"],[1,"form-check","check-tables"],["type","checkbox",1,"form-check-input"],[4,"ngFor","ngForOf"],[1,"table_footer"],[1,"col-sm-12","col-md-5"],[1,"dataTables_info"],[1,"col-sm-12","col-md-7"],[1,"pagination_section"],[1,"pagination"],[1,"page-item"],["href","javascript:void(0);",1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngIf"],["type","checkbox",1,"form-check-input",3,"value"],[1,"text-end"],["title","View",1,"icon-action","edit-icon",3,"click"],[1,"fa-solid","fa-eye","m-r-5"]],template:function(s,i){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),t.EFF(8,"Patients"),t.k0s()(),t.j41(9,"li",6),t.nrm(10,"i",8),t.k0s(),t.j41(11,"li",9),t.EFF(12,"Patients Note History"),t.k0s()()()()(),t.j41(13,"div",3)(14,"div",4)(15,"div",10)(16,"div",11)(17,"div",12)(18,"div",13)(19,"div",14)(20,"div",15)(21,"h3"),t.EFF(22,"Patients Note History List"),t.k0s(),t.j41(23,"div",16),t.nrm(24,"div",17),t.j41(25,"div",18)(26,"a",19),t.bIt("click",function(){return i.onSearch()}),t.nrm(27,"img",20),t.k0s(),t.j41(28,"a",21),t.bIt("click",function(){return i.resetList()}),t.nrm(29,"img",22),t.k0s()()()()(),t.j41(30,"div",23)(31,"a",24),t.nrm(32,"img",25),t.k0s(),t.j41(33,"a",24),t.nrm(34,"img",26),t.k0s(),t.j41(35,"a",24),t.nrm(36,"img",27),t.k0s(),t.j41(37,"a",28),t.nrm(38,"img",29),t.k0s()()()(),t.j41(39,"div",30)(40,"table",31)(41,"thead")(42,"tr")(43,"th")(44,"div",32),t.nrm(45,"input",33),t.k0s()(),t.j41(46,"th"),t.EFF(47,"Patient Name"),t.k0s(),t.j41(48,"th"),t.EFF(49,"Date"),t.k0s(),t.j41(50,"th"),t.EFF(51,"Note"),t.k0s(),t.nrm(52,"th"),t.k0s()(),t.j41(53,"tbody"),t.DNE(54,j,14,7,"tr",34),t.k0s()(),t.j41(55,"div",35)(56,"div",36)(57,"div",37),t.EFF(58),t.k0s()(),t.j41(59,"div",38)(60,"div",39)(61,"ul",40)(62,"li",41)(63,"a",42),t.bIt("click",function(){return i.onPageChange(i.currentPage-1)}),t.EFF(64,"Previous"),t.k0s()(),t.j41(65,"li",41)(66,"a",42),t.bIt("click",function(){return i.onPageChange(1)}),t.EFF(67,"1"),t.k0s()(),t.DNE(68,F,3,2,"li",43),t.j41(69,"li",41)(70,"a",42),t.bIt("click",function(){return i.onPageChange(i.currentPage+1)}),t.EFF(71,"Next"),t.k0s()()()()()()()()()()()()()),2&s&&(t.R7$(54),t.Y8G("ngForOf",i.list),t.R7$(4),t.E5c(" Showing ",10*(i.currentPage-1)+1," to ",10*i.currentPage>i.totalDocs?i.totalDocs:10*i.currentPage," of ",i.totalDocs," entries "),t.R7$(4),t.AVh("disabled",1===i.currentPage),t.R7$(3),t.AVh("active",1===i.currentPage),t.R7$(3),t.Y8G("ngIf",i.totalPages>1),t.R7$(1),t.AVh("disabled",i.currentPage===i.totalPages))},dependencies:[c.Sq,c.bT,c.vh]})}}return o})()}]}];let P=(()=>{class o{static{this.\u0275fac=function(s){return new(s||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[l.iI.forChild(N),l.iI]})}}return o})();var p=r(4341);let y=(()=>{class o{static{this.\u0275fac=function(s){return new(s||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[c.MD,P,p.YN,p.X1]})}}return o})()}}]);